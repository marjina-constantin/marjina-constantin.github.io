import{u as x,j as f}from"./index-0Q4orPYt.js";import{r}from"./react-vendor-DObCo5uo.js";import{H as g,a as h}from"./charts-vendor-BgOMIWtF.js";import"./icons-vendor-CjON0rrL.js";function b(){const{data:o}=x(),[n,c]=r.useState([]);r.useEffect(()=>{const t=setTimeout(()=>{c(o.raw)},200);return()=>{clearTimeout(t)}},[o.raw]);const i={};let e=0,s=0;const m=n.slice().reverse();for(const t of m){const u=new Date(t.dt);t.type==="incomes"?s=s+parseFloat(t.sum):e=e+parseFloat(t.sum);const p=Number(((e/s-1)*-100).toFixed(2));i[t.dt]=[u.getTime(),p]}const a=Object.values(i);a.length>14&&a.splice(0,14);const l={chart:{type:"line",zoomType:"x"},boost:{useGPUTranslations:!0},title:{text:"Savings history"},colors:["#4DD0E1"],yAxis:{title:{text:"%"}},xAxis:{type:"datetime",crosshair:!0},tooltip:{xDateFormat:"%e %b %Y",valueSuffix:"%"},credits:{enabled:!1},series:[{name:"Savings",data:a,negativeColor:"#E91E63"}]};return f.jsx(g,{highcharts:h,options:l})}export{b as default};
