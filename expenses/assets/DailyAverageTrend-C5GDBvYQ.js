import{u as D,j as y}from"./index-0Q4orPYt.js";import{r as p}from"./react-vendor-DObCo5uo.js";import{H as h,a as F}from"./charts-vendor-BgOMIWtF.js";import"./icons-vendor-CjON0rrL.js";function S(){var m;const{data:t}=D(),[d,u]=p.useState([]),n=!!t.filtered_raw;p.useEffect(()=>{const e=setTimeout(()=>{u(t.filtered_raw||t.raw)},200);return()=>{clearTimeout(e)}},[t.raw,t.filtered_raw]);const f=new Date((m=t.raw[t.raw.length-1])==null?void 0:m.dt),l=e=>{const s=e.getTime()-f.getTime();return parseInt(String(s/(1e3*3600*24)))+1};let a=[],r=[],i=0,o=0;const g=d.slice().reverse();for(const e of g){const s=new Date(e.dt);e.type==="incomes"?o=parseFloat(String(o))+parseFloat(e.sum):i=parseFloat(String(i))+parseFloat(e.sum),r[e.dt]=[s.getTime(),parseFloat(parseFloat(String(o/l(s))).toFixed(2))],a[e.dt]=[s.getTime(),parseFloat(parseFloat(String(i/l(s))).toFixed(2))]}a=Object.values(a),r=Object.values(r),a.length>14&&!n&&(a.splice(0,14),r.splice(0,14));const c=[{name:"Daily expenses",data:a}];n||c.push({name:"Daily incomes",data:r});const x={chart:{type:"line",zoomType:"x"},boost:{useGPUTranslations:!0},title:{text:"Daily average trends"},colors:["#E91E63","#4DD0E1"],yAxis:{title:{text:"Daily average"}},xAxis:{type:"datetime",crosshair:!0},tooltip:{xDateFormat:"%e %b %Y",shared:!0,split:!0},credits:{enabled:!1},series:c};return y.jsx(h,{highcharts:F,options:x})}export{S as default};
