import{u as h,a as g,j as a}from"./index-0Q4orPYt.js";import{r as u}from"./react-vendor-DObCo5uo.js";import{H as f,a as y}from"./charts-vendor-BgOMIWtF.js";import"./icons-vendor-CjON0rrL.js";function $(){var l,c;const{data:t}=h(),{currency:o}=g(),r=t.filtered||t;u.useEffect(()=>{},[t,o]);const p=(l=t.raw[t.raw.length-1])==null?void 0:l.dt,i=parseInt(String((new Date().getTime()-new Date(p).getTime())/864e5+1)),e=i?parseFloat(String(i/30.42)):0,n=e>=12?Math.floor(e/12):0,s=e>=12?parseFloat((e%12).toFixed(2)):parseFloat(e.toFixed(2)),m=n>0?`${n} ${n===1?"year":"years"}${s>0?` and ${s} ${s===1?"month":"months"}`:""}`:`${s} ${s===1?"month":"months"}`,d={chart:{type:"pie"},title:{text:"All Time Spending's"},tooltip:{pointFormat:"{point.y} {series.name} ({point.percentage:.2f})%"},plotOptions:{pie:{allowPointSelect:!0,borderWidth:0}},series:[{name:o,colorByPoint:!0,data:Object.values(r.categoryTotals)}],credits:{enabled:!1}};return a.jsxs(a.Fragment,{children:[a.jsx(f,{highcharts:y,options:d}),a.jsxs("div",{className:"average-spending",children:["Total spent: ",(c=parseFloat(r.totalSpent))==null?void 0:c.toLocaleString()," ",o," ","in ",m]})]})}export{$ as default};
