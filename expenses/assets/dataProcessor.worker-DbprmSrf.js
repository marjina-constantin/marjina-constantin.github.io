(function(){"use strict";const D=[{value:"",label:"Category"},{value:"1",label:"Clothing"},{value:"2",label:"Entertainment"},{value:"3",label:"Food"},{value:"4",label:"Gifts"},{value:"5",label:"Household Items/Supplies"},{value:"6",label:"Housing"},{value:"7",label:"Medical / Healthcare"},{value:"8",label:"Personal"},{value:"9",label:"Transportation"},{value:"10",label:"Utilities"},{value:"11",label:"Travel"},{value:"12",label:"Family"},{value:"13",label:"Investment"},{value:"14",label:"Drinks"}],T=["January","February","March","April","May","June","July","August","September","October","November","December"];self.onmessage=function(Y){const d=Y.data,f={},o={},i={},g=[],u={},r={},p={},n={},s={};let F=0;const A=(e,a)=>{o[e]||(o[e]={}),o[e][a]||(o[e][a]=0),f[a]||(f[a]=[]),u[a]||(u[a]=0),r[a]||(r[a]=0),n[e]||(n[e]={}),n[e][a]||(n[e][a]=0),p[e]||(p[e]=0),i[e]||(i[e]=0)},P=(e,a,t)=>{var M;const{cat:c,sum:l,type:b}=e;if(b==="incomes")p[a]=p[a]+parseFloat(l),n[a][t]+=parseFloat(l),g.push(e),r[t]=parseFloat((r[t]+parseFloat(l)).toFixed(2));else if(b==="transaction"){if(f[t].push(e),u[t]=parseFloat((u[t]+parseFloat(l)).toFixed(2)),c&&s[c]){const v=c;s[v].name=((M=D[v])==null?void 0:M.label)||"",s[v].y=parseFloat((s[v].y+parseFloat(l)).toFixed(2))}F=F+parseFloat(l),o[a][t]+=parseFloat(l),i[a]=i[a]+parseFloat(l)}};d&&d.forEach(e=>{const{dt:a,cat:t}=e,c=new Date(a),l=c.getFullYear(),b=`${T[c.getMonth()]} ${l}`;t&&!s[t]&&(s[t]={name:"",y:0}),A(l,b),P(e,l,b)});const I={groupedData:f,totalsPerYearAndMonth:o,totalPerYear:i,incomeData:g,monthsTotals:u,incomeTotals:r,totalIncomePerYear:p,totalIncomePerYearAndMonth:n,categoryTotals:s,totalSpent:F};self.postMessage(I)}})();
